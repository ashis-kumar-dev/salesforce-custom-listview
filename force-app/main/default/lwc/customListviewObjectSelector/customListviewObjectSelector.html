<template>
	<lightning-layout
		class="slds-card slds-card_boundary"
		multiple-rows="true"
		horizontal-align="center"
		vertical-align="start"
		title="Select Object and Fields for Listview"
	>
		<lightning-layout-item
			size="12"
			title="Select SObject"
			padding="around-small"
			class="slds-p-bottom_none"
			if:true={sobjectOptions.length}
		>
			<lightning-combobox
				label="SObject"
				name="object-selection-input"
				message-when-value-missing="Please select an object"
				options={sobjectOptions}
				placeholder="Select an Object"
				tabindex="0"
				title="SObject"
				spinner-active={loadingSObjects}
				onchange={handleSobjectSelected}
				value={objectApiName}
			></lightning-combobox>
		</lightning-layout-item>
		<lightning-layout-item size="12" title="Select Fields to Display" padding="around-small">
			<lightning-dual-listbox
				add-button-label="Add"
				down-button-label="Move Down"
				label="Select fields to display"
				min="1"
				name="display-fields-input"
				options={fieldOptions}
				onchange={handleFieldSelection}
				remove-button-label="Remove"
				required-options={requiredFieldOptions}
				value={fields}
				selected-label="Selected Fields"
				size="5"
				source-label="Available Fields"
				up-button-label="Move Up"
				show-activity-indicator={loadingFields}
			></lightning-dual-listbox>
		</lightning-layout-item>
		<lightning-layout-item
			size="12"
			title="Actions"
			padding="around-small"
			class="slds-p-top_none slds-grid slds-grid_align-end"
		>
			<lightning-button
				class="slds-col"
				aria-atomic="false"
				aria-label="cancel"
				aria-live="off"
				label="Cancel"
				name="cancel-button"
				onclick={handleCancel}
				title="Cancel"
				type="reset"
			></lightning-button>
			<lightning-button
				class="slds-col slds-var-m-left_xx-small"
				aria-atomic="false"
				aria-label="save"
				aria-live="off"
				label="Save"
				name="save-button"
				onclick={handleSave}
				title="Save"
				type="button"
				variant="brand"
			></lightning-button>
		</lightning-layout-item>
	</lightning-layout>
</template>
